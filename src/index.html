<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–æ–¥ –≤ –ø–∏–∫—Å–µ–ª—è—Ö</title>
    <link rel="stylesheet" href="css/style.css?9">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>

<body data-theme="light" class="app--layout-full">

    <div class="app">
        <header class="app__header">
            <button class="header__nav-button" id="prevYearBtn" title="–ü—Ä–µ–¥—ã–¥—É—â–∏–π –≥–æ–¥">&lt;</button>
            <h1 class="header__year" id="currentYearDisplay">2025</h1>
            <button class="header__nav-button" id="nextYearBtn" title="–°–ª–µ–¥—É—é—â–∏–π –≥–æ–¥">&gt;</button>
        </header>

        <main class="app__calendar" id="calendarContainer">
            <div class="calendar__days-axis" id="daysAxis">
            </div>
            <div class="calendar__main">
                <div class="calendar__months" id="monthsHeader">
                </div>
                <div class="calendar__grid" id="calendarGrid">
                </div>
            </div>
        </main>
    </div>

    <div class="popup popup--edit" id="editPopup">
        <div class="popup__content">
            <button class="popup__close-button" aria-label="–ó–∞–∫—Ä—ã—Ç—å" id="closeEditPopupBtn">&times;</button>
            <h2 class="popup__header" id="editPopupHeader">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</h2>
            <div class="popup__section">
                <span class="popup__section-title">–ö–∞–∫ –ø—Ä–æ—à–µ–ª –¥–µ–Ω—å?</span>
                <div class="popup__colors" id="popupColors">
                </div>
            </div>
            <div class="popup__section">
                <label for="dayDescription" class="popup__description-label">–û–ø–∏—Å–∞–Ω–∏–µ –¥–Ω—è / –ú—ã—Å–ª–∏:</label>
                <textarea class="popup__textarea" id="dayDescription" maxlength="300" placeholder="–û–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –¥–µ–Ω—å (–º–∞–∫—Å. 300 —Å–∏–º–≤–æ–ª–æ–≤)"></textarea>
                <div class="popup__char-counter" id="charCounter">0 / 300</div>
            </div>
            <!-- New Checkboxes for Edit Popup -->
            <div class="popup__section popup__section--checkboxes">
                <span class="popup__section-title">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</span>
                <div class="popup__checkbox-group" id="editPopupCheckboxes">
                    <label class="popup__checkbox-label"><input type="checkbox" name="alcohol" id="editAlcohol"> –ê–ª–∫–æ–≥–æ–ª—å üç∑</label>
                    <label class="popup__checkbox-label"><input type="checkbox" name="sport" id="editSport"> –°–ø–æ—Ä—Ç üí™üèª</label>
                    <label class="popup__checkbox-label"><input type="checkbox" name="sex" id="editSex"> –°–µ–∫—Å üçì</label>
                    <label class="popup__checkbox-label"><input type="checkbox" name="friends" id="editFriends"> –î—Ä—É–∑—å—è ü§üüèª</label>
                    <label class="popup__checkbox-label"><input type="checkbox" name="romantic" id="editRomantic"> –†–æ–º–∞–Ω—Ç–∏–∫–∞ üíï</label>
                    <label class="popup__checkbox-label"><input type="checkbox" name="crying" id="editCrying"> –°–ª—ë–∑—ã üò≠</label>
                    <label class="popup__checkbox-label"><input type="checkbox" name="WomanDay" id="editWomanDay"> –≠—Ç–∏ –¥–Ω–∏ ü©∏</label>
                </div>
            </div>

            <div class="popup__actions">
                <button id="saveDayBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button type="button" id="cancelEditBtn">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <div class="popup popup--view" id="viewPopup">
        <div class="popup__content">
            <button class="popup__close-button" aria-label="–ó–∞–∫—Ä—ã—Ç—å" id="closeViewPopupBtn">&times;</button>
            <h2 class="popup__header" id="viewPopupHeader">–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–Ω—è</h2>
            <div class="popup__section">
                <span class="popup__section-title">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ:</span>
                <div class="popup__view-info">
                    <div class="popup__view-color" id="viewPopupColor"></div>
                    <span class="popup__view-mood" id="viewPopupMood"></span>
                </div>
            </div>
            <div class="popup__section">
                <span class="popup__section-title">–û–ø–∏—Å–∞–Ω–∏–µ:</span>
                <p class="popup__view-description" id="viewPopupDescription"></p>
            </div>
            <!-- New Checkboxes for View Popup (read-only)-->
            <div class="popup__section popup__section--checkboxes">
                <span class="popup__section-title">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</span>
                <div class="popup__checkbox-group" id="viewPopupCheckboxes">
                    <label class="popup__checkbox-label"><input type="checkbox" name="alcohol" id="viewAlcohol" disabled> –ê–ª–∫–æ–≥–æ–ª—å üç∑</label>
                    <label class="popup__checkbox-label"><input type="checkbox" name="sport" id="viewSport" disabled> –°–ø–æ—Ä—Ç üí™üèª</label>
                    <label class="popup__checkbox-label"><input type="checkbox" name="sex" id="viewSex" disabled> –°–µ–∫—Å üçì</label>
                    <label class="popup__checkbox-label"><input type="checkbox" name="friends" id="viewFriends" disabled> –î—Ä—É–∑—å—è ü§üüèª</label>
                    <label class="popup__checkbox-label"><input type="checkbox" name="romantic" id="viewRomantic" disabled> –†–æ–º–∞–Ω—Ç–∏–∫–∞ üíï</label>
                    <label class="popup__checkbox-label"><input type="checkbox" name="crying" id="viewCrying" disabled> –°–ª—ë–∑—ã üò≠</label>
                    <label class="popup__checkbox-label"><input type="checkbox" name="WomanDay" id="viewWomanDay" disabled> –≠—Ç–∏ –¥–Ω–∏ ü©∏</label>
                </div>
            </div>
            <div class="popup__actions">
                <button id="editDayBtn">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                <button type="button" id="cancelViewBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <div id="legend" class="colorsLegend"></div>

    <button class="settings-button" id="settingsButton" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚öôÔ∏è</button>

    <div class="settings" id="settingsPanel">
        <button class="settings__close-button" aria-label="–ó–∞–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏" id="closeSettingsBtn">&times;</button>
        <h2 class="settings__title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>

        <div class="settings__group">
            <h3 class="settings__subtitle">–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</h3>
            <div class="settings__options" id="themeOptions">
                <label><input type="radio" name="theme" value="telegram"> Telegram</label>
                <label><input type="radio" name="theme" value="light"> –°–≤–µ—Ç–ª–∞—è</label>
                <label><input type="radio" name="theme" value="dark"> –¢–µ–º–Ω–∞—è</label>
                <label><input type="radio" name="theme" value="pink"> –†–æ–∑–æ–≤–∞—è</label>
                <label><input type="radio" name="theme" value="neon"> –ù–µ–æ–Ω–æ–≤–∞—è</label>
                <label><input type="radio" name="theme" value="modern"> –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è</label>
                <label><input type="radio" name="theme" value="vk"> VK</label>
                <label><input type="radio" name="theme" value="twitch"> Twitch</label>
                <label><input type="radio" name="theme" value="youtube"> YouTube</label>
                <label><input type="radio" name="theme" value="discord"> Discord</label>
                <label><input type="radio" name="theme" value="spotify"> Spotify</label>
                <label><input type="radio" name="theme" value="steam"> Steam</label>
                <label><input type="radio" name="theme" value="tiktok"> TikTok</label>
                <label><input type="radio" name="theme" value="yandex"> –Ø–Ω–¥–µ–∫—Å</label>
                <label><input type="radio" name="theme" value="reddit"> Reddit</label>
                <label><input type="radio" name="theme" value="pornhub"> PornHub</label>
                <label><input type="radio" name="theme" value="halflife"> Half-Life</label>
                <label><input type="radio" name="theme" value="cyberpunk"> Cyberpunk</label>
            </div>
        </div>

        <div class="settings__group">
            <h3 class="settings__subtitle">–í–∏–¥ –∫–∞–ª–µ–Ω–¥–∞—Ä—è</h3>
            <div class="settings__options" id="layoutOptions">
                <label><input type="radio" name="layout" value="full"> –ü–æ–ª–Ω–∞—è —à–∏—Ä–∏–Ω–∞</label>
                <label><input type="radio" name="layout" value="half"> –£–∑–∫–∞—è (–ø–æ–ª–æ–≤–∏–Ω–∞)</label>
                <!--<label><input type="radio" name="layout" value="compact"> –ö–æ–º–ø–∞–∫—Ç–Ω–∞—è</label>/-->
                <label><input type="radio" name="layout" value="fill"> –ó–∞–ø–æ–ª–Ω–∏—Ç—å</label>
            </div>
        </div>

        <div class="settings__group">
            <h3 class="settings__subtitle">–ü—Ä–æ—á–µ–µ</h3>
            <a href="https://t.me/stickers_feedback_bot" class="btn center">–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</a>
            <? include_once('metrics.html'); ?>
        </div>

        <? if(file_exists('api/test.php')){ ?>
            <div class="settings__group">
                <h3 class="settings__subtitle">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
                <div class="settings__options" id="backendOptions">
                    <label><input type="radio" name="backend" value="stable"> –°—Ç–∞–±–∏–ª—å–Ω—ã–π backend</label>
                    <label><input type="radio" name="backend" value="test"> –¢–µ—Å—Ç–æ–≤—ã–π backend</label>
                </div>
            </div>
            <? } ?>
    </div>

    <script>
        let API_URL = 'api/'; // –ü—É—Ç—å –∫ PHP —Ñ–∞–π–ª—É api
    </script>
    <script type="text/javascript" src="js/script.js?9"></script>

</body>

</html>